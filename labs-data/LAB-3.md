# Лабораторна робота № 3 Розробка структури застосунку

## Oсновні компоненти/модулі

[Frontend]

- index.html
- createEvent.html
- event.html
- login.html
- register.html
- scripts

[Backend]

|- Маршрути
| |- htmlRoutes.js (обробка HTML-запитів)
| |- apiRoutes.js (обробка API-запитів)
|- Контролери:
| |- registerHandler.js
| |- loginHandler.js
| |- eventHandler.js
| |- user.js
|- Утиліти:
| |- sessionManager.js
| |- parseCookies.js
|- Дані:
|- users.json
|- events.json
|- sessions.json

## Дані та їх зв’язки

### Візуально описано в файлі ER.png

## Оновлення, зміна та агрегування даних на основі ключових сценаріїв

1. Реєстрація користувача

Процес: Користувач заповнює форму на сторінці /register.

Дії:

Дані форми передаються на сервер через POST-запит.

Контролер registerHandler перевіряє валідність даних.

Новий користувач додається до users.json із унікальним id.

2. Логін користувача

Процес: Користувач вводить свої облікові дані на сторінці /login.

Дії:

Сервер перевіряє відповідність логіна та пароля у файлі users.json.

При успіху створюється сесія через sessionManager, ідентифікатор якої зберігається у куках.

3. Створення свята

Процес: Зареєстрований користувач заповнює форму на сторінці /create-event.

Дії:

POST-запит передає дані (назва, рекомендації) на сервер.

Контролер eventHandler створює новий об'єкт події у events.json із полем ownerId.

4. Участь у святі

Процес: Користувач заповнює свої побажання на сторінці /event?id=eventId.

Дії:

POST-запит додає до масиву participants у events.json об'єкт із userId та wishes.

5. Завершення свята

Процес: Власник свята натискає кнопку «Завершити» на сторінці свята.

Дії:

Контролер event створює пари учасників (pairs) у events.json.

Поле completed встановлюється у true.

6. Отримання інформації про події

Процес: Користувач переглядає список подій на сторінці /.

Дії:

Сервер повертає масив подій із events.json, у яких користувач є власником або учасником.

7. Перегляд свята

Процес: Користувач відкриває сторінку події /event?id=eventId.

Дії:

Сервер знаходить подію у events.json за id і повертає дані (назва, статус, учасники, пари).

Якщо свято завершене, користувач бачить, кому дарувати подарунок.

8. Вихід із системи

Процес: Користувач натискає кнопку «Вийти».

Дії:

Ідентифікатор сесії видаляється із sessions.json або пам'яті.

Куки очищаються на стороні браузера.
